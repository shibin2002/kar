<%- include('partials/header') %>

<main
  class="main"
  style="
    padding-top: 80px;
    background-image: url('assets/img/hero-bg.jpg');
    background-size: cover;
    background-position: center;
  "
>
  <section id="gallery" class="portfolio section">
    <!-- Section Title -->
    <div class="container section-title" data-aos="fade-up">
      <h2>Gallery</h2>
      <p>Check our Gallery</p>
    </div>
    <!-- End Section Title -->

    <div class="container">
      <div
        class="isotope-layout"
        data-default-filter="*"
        data-layout="masonry"
        data-sort="original-order"
      >
        <ul
          class="portfolio-filters isotope-filters"
          data-aos="fade-up"
          data-aos-delay="100"
        >
          <!-- Filter options if needed -->
        </ul>
        <!-- End Portfolio Filters -->

        <!-- Portfolio Items -->
        <div
          class="row gy-4 isotope-container"
          data-aos="fade-up"
          data-aos-delay="200"
        >
          <% galleryItems.forEach(function(item) { %>
          <div
            class="col-lg-4 col-md-6 portfolio-item isotope-item filter-wedding"
          >
            <img src="<%= item.image %>" class="img-fluid" alt="" />
          </div>
          <% }); %>
        </div>
        <!-- End Portfolio Container -->
      </div>

      <!-- Pagination Controls -->
      <div
        id="pagination"
        class="pagination-container text-center"
        data-aos="fade-up"
        data-aos-delay="300"
      >
        <!-- Pagination buttons will be added dynamically -->
      </div>

      <style>
        .pagination-container {
          margin-top: 20px;
          display: flex;
          justify-content: center;
        }

        .pagination-button {
          padding: 8px 16px;
          border: none;
          border-radius: 4px;
          background-color: #007bff;
          color: white;
          cursor: pointer;
          margin: 0 5px;
          transition: background-color 0.3s;
        }

        .pagination-button.active {
          background-color: #0056b3;
        }

        .pagination-button:hover {
          background-color: #0056b3;
        }
      </style>
    </div>
  </section>
  <!-- /Portfolio Section -->

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const itemsPerPage = 6; // Number of items to show per page
      const portfolioItems = document.querySelectorAll(".portfolio-item");
      const paginationContainer = document.getElementById("pagination");
      const totalPages = Math.ceil(portfolioItems.length / itemsPerPage);

      // Function to display items for a specific page
      function displayPage(page) {
        // Hide all items initially
        portfolioItems.forEach((item) => {
          item.style.display = "none"; // Ensure hidden items are not visible
        });

        // Show items for the current page
        const start = (page - 1) * itemsPerPage;
        const end = Math.min(start + itemsPerPage, portfolioItems.length);

        for (let i = start; i < end; i++) {
          portfolioItems[i].style.display = "block";
        }

        // Reinitialize layout for consistent display (Masonry layout using Isotope)
        const iso = new Isotope(".isotope-container", {
          itemSelector: ".portfolio-item",
          layoutMode: "masonry", // Adjust to your layout mode
        });
        iso.arrange();
      }

      // Function to create pagination buttons
      function createPagination() {
        // Clear existing pagination buttons
        paginationContainer.innerHTML = "";

        for (let i = 1; i <= totalPages; i++) {
          const button = document.createElement("button");
          button.textContent = i;
          button.classList.add("pagination-button");
          if (i === 1) button.classList.add("active");

          // Add click event listener
          button.addEventListener("click", function () {
            // Remove active class from all buttons
            document.querySelectorAll(".pagination-button").forEach((btn) => {
              btn.classList.remove("active");
            });

            // Add active class to the current button
            button.classList.add("active");

            // Show items for the selected page
            displayPage(i);

            // Scroll to top of gallery for better UX (optional)
            const gallerySection = document.getElementById("gallery");
            gallerySection.scrollIntoView({ behavior: "smooth" });
          });

          paginationContainer.appendChild(button);
        }
      }

      // Initialize the pagination
      displayPage(1); // Show the first page by default
      createPagination();
    });
  </script>
</main>

<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="assets/vendor/php-email-form/validate.js"></script>
<script src="assets/vendor/aos/aos.js"></script>
<script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
<script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
<script src="assets/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>
<script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
<script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
<!-- Main JS File -->
<script src="assets/js/main.js"></script>

<%- include('partials/footer') %>
